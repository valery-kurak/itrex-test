let myTable=document.querySelector("#myTable tbody"),dataURL="https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json";var data={},xhr=new XMLHttpRequest;xhr.open("GET",dataURL,!1),xhr.send(),200!=xhr.status?alert(xhr.status+": "+xhr.statusText):data=xhr.responseText;let dataAPI=JSON.parse(data),mySelect=document.getElementById("mySelect");myTable.innerHTML+=dataAPI.map(e=>`
  <tr>
    <td>${e.id}</td>
    <td>${e.firstName}</td>
    <td>${e.lastName}</td>
    <td>${e.email}</td>
    <td>${e.phone}</td>
    <td>${e.adress.state}</td>
  </tr>
`).join(""),mySelect.innerHTML+=dataAPI.map(e=>`
  <option value="${e.adress.state}">${e.adress.state}</option>
`).join("");let cells=document.querySelectorAll("#myTable td");for(var i=0;i<cells.length;i++)cells[i].addEventListener("click",function(){let a=this.innerHTML;var e=jQuery.grep(dataAPI,function(e,t){return e.id==a||e.firstName==a||e.lastName==a||e.email==a||e.phone==a||e.adress.state==a});$("#selectedProfile").text(e[0].firstName+" "+e[0].lastName),$("#description").text(e[0].description),$("#address").text(e[0].adress.streetAddress),$("#city").text(e[0].adress.city),$("#state").text(e[0].adress.state),$("#index").text(e[0].adress.zip)});function searchByName(){for(var e,t=document.getElementById("myInput").value.toUpperCase(),a=document.getElementById("myTable").getElementsByTagName("tr"),n=0;n<a.length;n++)(e=a[n].getElementsByTagName("td")[1])&&(-1<(e.textContent||e.innerText).toUpperCase().indexOf(t)?a[n].style.display="":a[n].style.display="none")}function searchByState(){let e,t,a,n,s,r,d;for(e=document.getElementById("mySelect"),t=e.value.toUpperCase(),a=document.getElementById("myTable"),n=a.getElementsByTagName("tr"),r=0;r<n.length;r++)(s=n[r].getElementsByTagName("td")[5])&&(d=s.textContent||s.innerText,-1<d.toUpperCase().indexOf(t)?n[r].style.display="":n[r].style.display="none")}document.addEventListener("DOMContentLoaded",()=>{const t=({target:e})=>{var t=e.dataset.order=-(e.dataset.order||-1),a=[...e.parentNode.cells].indexOf(e);const s=new Intl.Collator(["en","ru"],{numeric:!0});for(const n of e.closest("table").tBodies)n.append(...[...n.rows].sort(((a,n)=>(e,t)=>n*s.compare(e.children[a].innerHTML,t.children[a].innerHTML))(a,t)));for(const r of e.parentNode.cells)r.classList.toggle("sorted",r===e)};document.querySelectorAll("#myTable thead").forEach(e=>e.addEventListener("click",()=>t(event)))}),$("#myTable").each(function(){var t=0,a=$(this);a.bind("repaginate",function(){a.find("tbody tr").hide().slice(20*t,20*(t+1)).show()}),a.trigger("repaginate");for(var e=a.find("tbody tr").length,n=Math.ceil(e/20),s=$('<div class="pager"></div>'),r=0;r<n;r++)$('<span class="page-number"></span>').text(r+1).bind("click",{newPage:r},function(e){t=e.data.newPage,a.trigger("repaginate"),$(this).addClass("active").siblings().removeClass("active")}).appendTo(s).addClass("clickable");s.insertBefore(a).find("span.page-number:first").addClass("active")});